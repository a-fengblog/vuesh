(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df30adf0"],{"523d":function(t,o,s){"use strict";s("dd53")},d2be:function(t,o,s){"use strict";s.r(o);var n=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"search"},[s("div",{staticClass:"head"},[s("span",{on:{click:t.comeback}},[s("van-icon",{attrs:{name:"arrow-left"}}),t._v(" 返回")],1),t._v(" "),s("span",[t._v(" 乐居")])]),s("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:t.ipte,cancel:t.comeback},model:{value:t.val,callback:function(o){t.val="string"===typeof o?o.trim():o},expression:"val"}}),"default"==t.current?s("div",{staticClass:"default"},[s("div",{staticClass:"hos"},[s("div",{staticClass:"hos-lef"},[t._v("历史记录")]),s("div",{staticClass:"hos-rig",on:{click:t.clearHistorys}},[s("van-icon",{attrs:{name:"delete-o"}})],1)]),s("ul",{staticClass:"sesearch"},t._l(t.list.historyData,(function(o){return s("li",{key:o.id,attrs:{span:"6"},on:{click:function(s){return t.showGoods(o.keyword)}}},[t._v(" "+t._s(o.keyword)+" ")])})),0),t._m(0),s("ul",{staticClass:"sesearch"},t._l(t.list.hotKeywordList,(function(o){return s("li",{key:o.id,attrs:{span:"6"},on:{click:function(s){return t.showGoods(o.keyword)}}},[t._v(" "+t._s(o.keyword)+" ")])})),0)]):"notice"==t.current?s("div",{staticClass:"notice"},[s("ul",{staticClass:"notisearch"},t._l(t.noticeList,(function(o){return s("li",{key:o.id,on:{click:function(s){return t.showGoods(o.name)}}},[t._v(" "+t._s(o.name)+" ")])})),0)]):s("div",{staticClass:"goods"},[s("div",{staticClass:"title"},[s("span",{class:"goods"==t.current?"on":"",on:{click:t.vcomb}},[t._v("综合")]),s("span",{staticClass:"top",on:{click:function(o){return t.typecheck()}}},[s("p",{class:"goods"==t.current||""==t.current?"":"on"},[t._v(" 价格 ")]),s("div",{staticClass:"iconBox"},[s("van-icon",{attrs:{color:"up"==t.current?"red":"",name:"arrow-up"}}),s("van-icon",{attrs:{color:"down"==t.current?"red":"",name:"arrow-down"}})],1)]),s("span",{class:""==t.current?"on":"",on:{click:t.classify}},[t._v("分类")])]),s("ul",{staticClass:"goodslist"},t._l(t.goodsList,(function(o){return s("li",{key:o.id,on:{click:function(s){return t.shopping(o.id)}}},[s("img",{attrs:{src:o.list_pic_url,alt:""}}),s("p",[t._v(t._s(o.name))]),s("p",[t._v("￥"+t._s(o.retail_price))])])})),0)])],1)},e=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"hot"},[s("div",[t._v("热门搜索")])])}],r=s("0c6d");function i(t){return Object(r["a"])({method:"get",url:"/search/indexaction",params:t})}function c(t){return Object(r["a"])({method:"get",url:"/search/helperaction",params:t})}function a(t){return Object(r["a"])({method:"post",url:"/search/addhistoryaction",data:t})}function d(t){return Object(r["a"])({method:"post",url:"/search/clearhistoryAction",data:t})}var l={data:function(){return{val:"",list:{},current:"default",searlist:[],noticeList:[],goodsList:[],order:"",keywordsa:""}},methods:{init:function(){var t=this;i({openId:localStorage.getItem("openId")}).then((function(o){console.log(o),t.list=o}))},comeback:function(){this.$router.go(-1)},clearHistorys:function(){var t=this;d({openId:localStorage.getItem("openId")}).then((function(o){t.init()}))},ipte:function(){var t=this;this.val?(this.current="notice",c({keyword:this.val,order:""}).then((function(o){console.log(o),t.noticeList=o.keywords}))):this.current="default"},showGoods:function(t){var o=this;this.current="goods",a({keyword:t,openId:localStorage.getItem("openId")}),c({keyword:t,order:""}).then((function(t){console.log(t),o.goodsList=t.keywords})),this.keywordsa=t},typecheck:function(){var t=this;"goods"==this.current?(this.current="up",this.order="asc"):"up"==this.current?(this.current="down",this.order="desc"):(this.current="up",this.order="asc"),c({keyword:this.keywordsa,order:this.order}).then((function(o){console.log(o),t.goodsList=o.keywords}))},vcomb:function(){var t=this;this.current="goods",this.order="",c({keyword:this.keywordsa,order:this.order}).then((function(o){console.log(o),t.goodsList=o.keywords}))},classify:function(){var t=this;this.current="",c({keyword:this.keywordsa,order:""}).then((function(o){console.log(o),t.goodsList=o.keywords}))},shopping:function(t){this.$router.push("/content?id=".concat(t))}},created:function(){this.init()},computed:{}},u=l,h=(s("523d"),s("cba8")),f=Object(h["a"])(u,n,e,!1,null,"4c9e625c",null);o["default"]=f.exports},dd53:function(t,o,s){}}]);
//# sourceMappingURL=chunk-df30adf0.9e28d368.js.map